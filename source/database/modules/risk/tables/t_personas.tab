create table T_PERSONAS
(
  id_persona       NUMBER generated by default on null as identity,
  nombre_completo  VARCHAR2(200),
  nombre           VARCHAR2(100),
  apellido         VARCHAR2(100),
  tipo_persona     VARCHAR2(1),
  tipo_documento   VARCHAR2(3),
  numero_documento VARCHAR2(20),
  id_pais          NUMBER,
  fecha_nacimiento DATE,
  id_externo_1     VARCHAR2(100),
  id_externo_2     VARCHAR2(100)
)
;
comment on table T_PERSONAS
  is 'Personas';
comment on column T_PERSONAS.id_persona
  is 'Identificador de la persona';
comment on column T_PERSONAS.nombre_completo
  is 'Nombre completo de la persona';
comment on column T_PERSONAS.nombre
  is 'Nombre de la persona';
comment on column T_PERSONAS.apellido
  is 'Apellido de la persona';
comment on column T_PERSONAS.tipo_persona
  is 'Tipo de la persona';
comment on column T_PERSONAS.tipo_documento
  is 'Tipo de documento de la persona';
comment on column T_PERSONAS.numero_documento
  is 'Numero de documento de la persona';
comment on column T_PERSONAS.id_pais
  is 'Pais de la persona';
comment on column T_PERSONAS.fecha_nacimiento
  is 'Fecha de nacimiento de la persona';
comment on column T_PERSONAS.id_externo_1
  is 'Identificador externo de la persona 1';
comment on column T_PERSONAS.id_externo_2
  is 'Identificador externo de la persona 2';
create index IDX_PERSONAS_ID_EXTERNO_1 on T_PERSONAS (ID_EXTERNO_1);
create index IDX_PERSONAS_ID_EXTERNO_2 on T_PERSONAS (ID_EXTERNO_2);
create index IDX_PERSONAS_NUMERO_DOCUMENTO on T_PERSONAS (NUMERO_DOCUMENTO);
alter table T_PERSONAS
  add constraint PK_PERSONAS primary key (ID_PERSONA);
alter table T_PERSONAS
  add constraint UK_PERSONAS_ID_EXTERNO_1 unique (ID_EXTERNO_1);
alter table T_PERSONAS
  add constraint UK_PERSONAS_ID_EXTERNO_2 unique (ID_EXTERNO_2);
alter table T_PERSONAS
  add constraint UK_PERSONAS_TIP_NUM_DOCUMENTO unique (TIPO_DOCUMENTO, NUMERO_DOCUMENTO);
alter table T_PERSONAS
  add constraint CK_PERSONAS_TIPO_PERSONA
  check (TIPO_PERSONA IN ('F', 'J'));
