create table T_OPERACION_LOGS
(
  id_operacion_log  NUMBER generated by default on null as identity,
  id_operacion      NUMBER,
  contexto          CLOB,
  version           VARCHAR2(100),
  parametros        CLOB,
  respuesta         CLOB,
  fecha_hora_inicio TIMESTAMP(3),
  fecha_hora_fin    TIMESTAMP(3),
  duracion          INTERVAL DAY(3) TO SECOND(3),
  sql_ejecucion     CLOB,
  id_usuario        NUMBER,
  id_entidad        NUMBER,
  id_sesion         NUMBER,
  id_dispositivo    NUMBER
)
;
comment on table T_OPERACION_LOGS
  is 'Logs de Operaciones';
comment on column T_OPERACION_LOGS.id_operacion_log
  is 'Identificador del log';
comment on column T_OPERACION_LOGS.id_operacion
  is 'Identificador de la operación';
comment on column T_OPERACION_LOGS.contexto
  is 'Contexto de la operación';
comment on column T_OPERACION_LOGS.version
  is 'Versión de la operación';
comment on column T_OPERACION_LOGS.parametros
  is 'Parámetros recibidos';
comment on column T_OPERACION_LOGS.respuesta
  is 'Respuesta enviada';
comment on column T_OPERACION_LOGS.fecha_hora_inicio
  is 'Fecha/hora de inicio de la ejecución de la operación';
comment on column T_OPERACION_LOGS.fecha_hora_fin
  is 'Fecha/hora de fin de la ejecución de la operación';
comment on column T_OPERACION_LOGS.duracion
  is 'Duración de la ejecución de la operación';
comment on column T_OPERACION_LOGS.sql_ejecucion
  is 'SQL de la ejecución de la operación';
comment on column T_OPERACION_LOGS.id_usuario
  is 'Identificador del usuario';
comment on column T_OPERACION_LOGS.id_entidad
  is 'Identificador de la entidad';
comment on column T_OPERACION_LOGS.id_sesion
  is 'Identificador de la sesión';
comment on column T_OPERACION_LOGS.id_dispositivo
  is 'Identificador del dispositivo';
create index IDX_OPE_LOGS_FECHA_HORA_FIN on T_OPERACION_LOGS (FECHA_HORA_FIN);
create index IDX_OPE_LOGS_FECHA_HORA_INICIO on T_OPERACION_LOGS (FECHA_HORA_INICIO);
create index IDX_OPE_LOGS_ID_DISPOSITIVO on T_OPERACION_LOGS (ID_DISPOSITIVO);
create index IDX_OPE_LOGS_ID_ENTIDAD on T_OPERACION_LOGS (ID_ENTIDAD);
create index IDX_OPE_LOGS_ID_OPERACION on T_OPERACION_LOGS (ID_OPERACION);
create index IDX_OPE_LOGS_ID_SESION on T_OPERACION_LOGS (ID_SESION);
create index IDX_OPE_LOGS_ID_USUARIO on T_OPERACION_LOGS (ID_USUARIO);
alter table T_OPERACION_LOGS
  add constraint PK_OPERACION_LOGS primary key (ID_OPERACION_LOG);

