create table T_MENSAJERIA_CATEGORIAS
(
  id_categoria  NUMBER generated by default on null as identity (start with 650 nocache),
  descripcion   VARCHAR2(100) not null,
  detalle       VARCHAR2(510),
  estado        VARCHAR2(1) default 'A' not null,
  fecha_inicio  DATE default trunc(sysdate),
  fecha_fin     DATE,
  telefonia     VARCHAR2(3) default 'TIG' not null,
  clasificacion VARCHAR2(10) default 'AVISO' not null,
  prioridad     NUMBER(3) default 900 not null
)
;
comment on table T_MENSAJERIA_CATEGORIAS
  is 'Categorías de mensajes';
comment on column T_MENSAJERIA_CATEGORIAS.id_categoria
  is 'Identificador de la categoría de mensajes';
comment on column T_MENSAJERIA_CATEGORIAS.descripcion
  is 'Descripción de la categoría';
comment on column T_MENSAJERIA_CATEGORIAS.detalle
  is 'Detalle de la categoría';
comment on column T_MENSAJERIA_CATEGORIAS.estado
  is 'Estado. (A-Activo, I-Inactivo)';
comment on column T_MENSAJERIA_CATEGORIAS.fecha_inicio
  is 'Fecha de inicio de la categoría';
comment on column T_MENSAJERIA_CATEGORIAS.fecha_fin
  is 'Fecha de fin de la categoría';
comment on column T_MENSAJERIA_CATEGORIAS.telefonia
  is 'Compañía telefónica. (TIG-Tigo, PER-Personal)';
comment on column T_MENSAJERIA_CATEGORIAS.clasificacion
  is 'Clasificación de la categoría. (AVISO, PROMOCION, OTP)';
comment on column T_MENSAJERIA_CATEGORIAS.prioridad
  is 'Prioridad de envío de la categoría';
alter table T_MENSAJERIA_CATEGORIAS
  add constraint PK_MENSAJERIA_CATEGORIAS primary key (ID_CATEGORIA);
alter table T_MENSAJERIA_CATEGORIAS
  add constraint CK_MENSAJERIA_CATEGORIAS_CLASIFICACION
  check (clasificacion in ('AVISO', 'PROMOCION', 'OTP'));
alter table T_MENSAJERIA_CATEGORIAS
  add constraint CK_MENSAJERIA_CATEGORIAS_ESTADO
  check (estado in ('A', 'I'));
alter table T_MENSAJERIA_CATEGORIAS
  add constraint CK_MENSAJERIA_CATEGORIAS_TELEFONIA
  check (telefonia in ('TIG', 'PER'));

